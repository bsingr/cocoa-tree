#= depend_on_asset seeds_worker.js
#= require bluebird.js
#= require msgpack-js.js
#= require jquery.js
#= require bootstrap.js
#= require underscore.js
#= require backbone.js
#= require string.js
#= require_tree ./models
#= require_tree ./templates
#= require_tree ./views
#= require_tree ./shared
#= require_tree ./application

@logger = new Logger('app', 'info')
ready = () ->
  seedsStore = new SeedsStore()
  seedsWorker = new Worker('<%= asset_path('seeds_worker.js') %>')
  seedsWorkerClient = new SeedsWorkerClient(seedsWorker)
  appController = new AppController(seedsWorkerClient, seedsStore)
  router = new AppRouter()
  router.appController = appController
  Backbone.history.start()
$(document).ready(ready)
$(document).on('page:load', ready)
